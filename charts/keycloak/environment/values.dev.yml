global:

production: true

auth:
  adminUser: admin@enclaive.cloud

tls:
  enabled: true
  autoGenerated: true

proxy: edge

ingress:
  enabled: true
  ingressClassName: intranet
  pathType: Prefix
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt
  hostname: auth.dev.kr-ecl.de
  path: /
  tls: true

image:
  repository: ${{ env.AWS_ACCOUNT_ID }}.dkr.ecr.eu-central-1.amazonaws.com/kc-provider
  tag: dev
  pullPolicy: IfNotPresent

extraStartupArgs: "--spi-email-template-provider=custom-freemarker"

postgresql:
  enabled: false

externalDatabase:
  host: keycloak-cnpg-cluster-rw.emcp-dev.svc.cluster.local
  port: 5432
  user: bn_keycloak
  database: bitnami_keycloak
  existingSecret: keycloak-cnpg-user-secret
  existingSecretPasswordKey: password

resources:
  requests:
    cpu: 1
    ephemeral-storage: 50Mi
    memory: 1280Mi
  limits:
    cpu: 2
    ephemeral-storage: 2Gi
    memory: 4096Mi

customLivenessProbe:
  tcpSocket:
    port: http
  failureThreshold: 3
  initialDelaySeconds: 300
  periodSeconds: 10
  successThreshold: 1
  timeoutSeconds: 5

customReadinessProbe:
  httpGet:
    path: /realms/master
    port: http
    scheme: HTTP
  failureThreshold: 3
  initialDelaySeconds: 90
  periodSeconds: 10
  successThreshold: 1
  timeoutSeconds: 3